# ğŸ—ï¸ ç³»çµ±æ¶æ§‹æ–‡æª”

## æ¦‚è¦½

Pet AI Assistant çŸ¥è­˜åº«ç®¡ç†ç³»çµ±æ¡ç”¨å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹ï¼Œæä¾›å®Œæ•´çš„ç·šä¸ŠçŸ¥è­˜ç¶­è­·åŠŸèƒ½ã€‚

---

## æŠ€è¡“æ£§

### å‰ç«¯

```
Vue 3 (Composition API)
â”œâ”€â”€ Vite 7.x (æ§‹å»ºå·¥å…·)
â”œâ”€â”€ TailwindCSS 3.x (æ¨£å¼æ¡†æ¶)
â”œâ”€â”€ xlsx (Excel è§£æ)
â”œâ”€â”€ papaparse (CSV è§£æ)
â””â”€â”€ Google Material Icons (åœ–ç¤º)
```

### å¾Œç«¯

```
Node.js 18+
â”œâ”€â”€ Express 4.x (Web æ¡†æ¶)
â”œâ”€â”€ @google/genai 1.35+ (Gemini API)
â”œâ”€â”€ multer (æª”æ¡ˆä¸Šå‚³)
â””â”€â”€ cors (è·¨åŸŸæ”¯æŒ)
```

---

## ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç”¨æˆ¶                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç€è¦½å™¨ï¼ˆå‰ç«¯ï¼‰                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Vue 3 SPA                                         â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚     â”‚
â”‚  â”‚  â”‚ ChatInterfaceâ”‚  â”‚KnowledgeAdminâ”‚               â”‚     â”‚
â”‚  â”‚  â”‚   (ä¸»ä»‹é¢)   â”‚  â”‚  (ç®¡ç†å¾Œå°)  â”‚               â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚     â”‚
â”‚  â”‚         â”‚                  â”‚                       â”‚     â”‚
â”‚  â”‚         â–¼                  â–¼                       â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚     â”‚
â”‚  â”‚  â”‚      Service Layer              â”‚              â”‚     â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚              â”‚     â”‚
â”‚  â”‚  â”‚  â”‚  geminiService.js        â”‚   â”‚              â”‚     â”‚
â”‚  â”‚  â”‚  â”‚  knowledgeManager.js     â”‚   â”‚              â”‚     â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚              â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                  â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ HTTP/HTTPS
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å¾Œç«¯ API Server                          â”‚
â”‚                  (Express.js)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  API Endpoints                                   â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”‚
â”‚  â”‚  â”‚ POST /chat - AI å°è©±                    â”‚     â”‚     â”‚
â”‚  â”‚  â”‚ POST /api/extract-knowledge - PDF æå–  â”‚     â”‚     â”‚
â”‚  â”‚  â”‚ POST /api/knowledge/save - å„²å­˜çŸ¥è­˜åº«   â”‚     â”‚     â”‚
â”‚  â”‚  â”‚ GET  /knowledge - æŸ¥è©¢çŸ¥è­˜åº«è³‡è¨Š        â”‚     â”‚     â”‚
â”‚  â”‚  â”‚ GET  /health - å¥åº·æª¢æŸ¥                 â”‚     â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                â”‚             â”‚                            â”‚
â”‚                â–¼             â–¼                            â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚      â”‚  File I/O   â”‚  â”‚  Gemini API  â”‚                   â”‚
â”‚      â”‚  (JSON)     â”‚  â”‚  (AI)        â”‚                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æª”æ¡ˆç³»çµ±                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  public/                                         â”‚       â”‚
â”‚  â”‚  â”œâ”€â”€ knowledge.json (ä¸»çŸ¥è­˜åº«)                    â”‚       â”‚
â”‚  â”‚  â”œâ”€â”€ manifest.json (ç‰ˆæœ¬ç®¡ç†)                     â”‚       â”‚
â”‚  â”‚  â””â”€â”€ knowledge_backup_*.json (å‚™ä»½æª”æ¡ˆ)           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–²
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  å¤–éƒ¨æœå‹™                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Google Gemini API                               â”‚       â”‚
â”‚  â”‚  - AI å°è©±ç”Ÿæˆ                                    â”‚       â”‚
â”‚  â”‚  - PDF æ–‡ä»¶åˆ†æ                                   â”‚       â”‚
â”‚  â”‚  - çŸ¥è­˜æå–èˆ‡çµæ§‹åŒ–                                â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## è³‡æ–™æµç¨‹

### 1. Excel åŒ¯å…¥æµç¨‹

```
ç”¨æˆ¶ä¸Šå‚³ Excel
    â”‚
    â–¼
å‰ç«¯ (KnowledgeAdmin.vue)
    â”‚
    â”œâ”€â–º xlsx.read(arrayBuffer)
    â”‚
    â”œâ”€â–º è§£æç‚º JSON
    â”‚
    â”œâ”€â–º è½‰æ›ç‚ºçŸ¥è­˜æ¢ç›®æ ¼å¼
    â”‚
    â””â”€â–º é¡¯ç¤ºåœ¨ç·¨è¼¯è¡¨æ ¼
```

### 2. PDF åŒ¯å…¥æµç¨‹

```
ç”¨æˆ¶ä¸Šå‚³ PDF
    â”‚
    â–¼
å‰ç«¯ (FormData)
    â”‚
    â–¼
POST /api/extract-knowledge
    â”‚
    â”œâ”€â–º multer æ¥æ”¶æª”æ¡ˆ
    â”‚
    â”œâ”€â–º ä¸Šå‚³åˆ° Gemini File API
    â”‚
    â”œâ”€â–º Gemini åˆ†ææ–‡ä»¶å…§å®¹
    â”‚
    â”œâ”€â–º æå–çµæ§‹åŒ–çŸ¥è­˜ (JSON)
    â”‚
    â””â”€â–º è¿”å›å‰ç«¯é¡¯ç¤º
```

### 3. çŸ¥è­˜åº«å„²å­˜æµç¨‹

```
ç”¨æˆ¶é»æ“Šå„²å­˜
    â”‚
    â–¼
å¡«å¯«ç‰ˆæœ¬è³‡è¨Š
    â”‚
    â–¼
å‰ç«¯é©—è­‰è³‡æ–™
    â”‚
    â–¼
POST /api/knowledge/save
    â”‚
    â”œâ”€â–º å‚™ä»½ç¾æœ‰ knowledge.json
    â”‚       knowledge_backup_2026-01-20_14-30-00.json
    â”‚
    â”œâ”€â–º æ›´æ–° knowledge.json
    â”‚       â”œâ”€ version: "1.3.0"
    â”‚       â”œâ”€ last_update: "2026-01-20"
    â”‚       â””â”€ entries: [...]
    â”‚
    â”œâ”€â–º æ›´æ–° manifest.json
    â”‚       â”œâ”€ version: "1.3.0"
    â”‚       â”œâ”€ update_records: [...]
    â”‚       â””â”€ features: {...}
    â”‚
    â””â”€â–º è¿”å›æˆåŠŸè¨Šæ¯
```

### 4. AI å°è©±æµç¨‹ï¼ˆä½¿ç”¨çŸ¥è­˜åº«ï¼‰

```
ç”¨æˆ¶æå•
    â”‚
    â–¼
POST /chat
    â”‚
    â”œâ”€â–º è¼‰å…¥ knowledge.json
    â”‚
    â”œâ”€â–º æœå°‹ç›¸é—œçŸ¥è­˜
    â”‚       â”œâ”€ é—œéµå­—æ¯”å°
    â”‚       â”œâ”€ ç‰©ç¨®ç¯©é¸
    â”‚       â””â”€ é¢¨éšªè©•ä¼°
    â”‚
    â”œâ”€â–º å»ºæ§‹ Prompt
    â”‚       â”œâ”€ ç³»çµ±æç¤ºè©
    â”‚       â”œâ”€ ç›¸é—œçŸ¥è­˜
    â”‚       â”œâ”€ å¯µç‰©æª”æ¡ˆ
    â”‚       â””â”€ ç”¨æˆ¶å•é¡Œ
    â”‚
    â”œâ”€â–º å‘¼å« Gemini API
    â”‚
    â”œâ”€â–º è§£æå›æ‡‰
    â”‚       â”œâ”€ answer (å›ç­”å…§å®¹)
    â”‚       â”œâ”€ citations (å¼•ç”¨ä¾†æº)
    â”‚       â”œâ”€ risk_level (é¢¨éšªç­‰ç´š)
    â”‚       â””â”€ suggested_actions (å»ºè­°)
    â”‚
    â””â”€â–º è¿”å›å‰ç«¯é¡¯ç¤º
```

---

## æ ¸å¿ƒçµ„ä»¶èªªæ˜

### å‰ç«¯çµ„ä»¶

#### 1. App.vue

**è·è²¬**ï¼šè·¯ç”±ç®¡ç†ã€æ¬Šé™æ§åˆ¶

```javascript
// è·¯ç”±ç‹€æ…‹
const currentRoute = ref("/"); // '/' | '/admin'
const isAuthenticated = ref(false);

// çµ„ä»¶åˆ‡æ›
if (route === "/admin" && isAuthenticated) {
  return <KnowledgeAdmin />;
} else {
  return <ChatInterface />;
}
```

#### 2. ChatInterface.vue

**è·è²¬**ï¼šä¸»èŠå¤©ä»‹é¢ã€å°è©±ç®¡ç†

- å¯µç‰©æª”æ¡ˆç®¡ç†
- å°è©±è¨Šæ¯é¡¯ç¤º
- é¢¨éšªæç¤º
- ç‰ˆæœ¬è³‡è¨Šé¡¯ç¤º
- ç®¡ç†å¾Œå°å…¥å£

#### 3. KnowledgeAdmin.vue

**è·è²¬**ï¼šçŸ¥è­˜åº«ç®¡ç†ä»‹é¢

**ç‹€æ…‹ç®¡ç†**ï¼š

```javascript
const knowledgeEntries = ref([]); // çŸ¥è­˜æ¢ç›®é™£åˆ—
const currentVersion = ref(""); // ç•¶å‰ç‰ˆæœ¬è™Ÿ
const uploadStatus = ref(null); // ä¸Šå‚³ç‹€æ…‹
const isSaving = ref(false); // å„²å­˜ä¸­æ¨™è¨˜
```

**æ ¸å¿ƒæ–¹æ³•**ï¼š

- `parseExcel()` - è§£æ Excel
- `parseCSV()` - è§£æ CSV
- `parsePDF()` - èª¿ç”¨å¾Œç«¯ API è§£æ PDF
- `saveKnowledge()` - å„²å­˜çŸ¥è­˜åº«
- `downloadTemplate()` - ä¸‹è¼‰ç¯„æœ¬

---

### å¾Œç«¯ API

#### 1. POST /api/extract-knowledge

**ç”¨é€”**ï¼šPDF æª”æ¡ˆçŸ¥è­˜æå–

**è«‹æ±‚**ï¼š

```javascript
Content-Type: multipart/form-data
{
  file: <PDF æª”æ¡ˆ>
}
```

**å›æ‡‰**ï¼š

```javascript
{
  success: true,
  entries: [
    {
      id: "pdf-001",
      category: "é¤µé¤Š",
      topic: "å¹¼çŠ¬ç‡Ÿé¤Š",
      keywords: ["å¹¼çŠ¬", "ç‡Ÿé¤Š"],
      content: "...",
      source: "filename.pdf",
      species: ["dog"],
      risk_level: "low"
    }
  ],
  file_info: {
    name: "filename.pdf",
    size: 1024000,
    type: "application/pdf"
  }
}
```

**å¯¦ç¾é‚è¼¯**ï¼š

1. æ¥æ”¶æª”æ¡ˆï¼ˆmulterï¼‰
2. ä¸Šå‚³åˆ° Gemini File API
3. ä½¿ç”¨ Prompt æŒ‡ç¤º Gemini æå–çŸ¥è­˜
4. è§£æ JSON å›æ‡‰
5. è¿”å›çµæ§‹åŒ–è³‡æ–™

#### 2. POST /api/knowledge/save

**ç”¨é€”**ï¼šå„²å­˜çŸ¥è­˜åº«

**è«‹æ±‚**ï¼š

```javascript
{
  version: "1.3.0",
  last_update: "2026-01-20",
  entries: [...],
  updateNotes: "- æ–°å¢xxx\n- æ›´æ–°xxx"
}
```

**å›æ‡‰**ï¼š

```javascript
{
  success: true,
  message: "çŸ¥è­˜åº«å„²å­˜æˆåŠŸ",
  version: "1.3.0",
  entry_count: 20,
  backupFile: "knowledge_backup_2026-01-20_14-30-00.json"
}
```

**å¯¦ç¾é‚è¼¯**ï¼š

1. é©—è­‰å¿…è¦æ¬„ä½
2. å‚™ä»½ç¾æœ‰ knowledge.json
3. è¼‰å…¥ä¸¦æ›´æ–° manifest.json
4. å¯«å…¥æ–°çš„ knowledge.json
5. é‡æ–°è¼‰å…¥åˆ°è¨˜æ†¶é«”
6. è¿”å›æˆåŠŸè¨Šæ¯

---

## è³‡æ–™çµæ§‹

### knowledge.json

```javascript
{
  "version": "1.2.0",
  "last_update": "2026-01-18",
  "categories": {
    "é†«ç™‚æ€¥æ•‘": { "description": "..." },
    "é¤µé¤Š": { "description": "..." },
    "æ—¥å¸¸ç…§è­·": { "description": "..." },
    "ç¦å¿Œ": { "description": "..." }
  },
  "entries": [
    {
      "id": "feed-001",              // å”¯ä¸€è­˜åˆ¥ç¢¼
      "category": "é¤µé¤Š",             // é¡åˆ¥
      "topic": "å¹¼çŠ¬é¤µé¤Šé »ç‡",        // æ¨™é¡Œ
      "keywords": ["å¹¼çŠ¬", "é¤µé¤Š"],  // é—œéµå­—é™£åˆ—
      "content": "...",              // è©³ç´°å…§å®¹
      "source": "ç¸é†«å¸«å”æœƒæŒ‡å—",     // ä¾†æº
      "species": ["dog"],            // é©ç”¨ç‰©ç¨®
      "risk_level": "low"            // é¢¨éšªç­‰ç´š
    }
  ],
  "emergency_keywords": {
    "critical": {
      "keywords": ["æŠ½æ", "æ˜è¿·"],
      "risk_level": "high"
    }
  }
}
```

### manifest.json

```javascript
{
  "version": "1.2.0",
  "last_update": "2026-01-18",
  "project": "Pet AI Assistant",
  "knowledge_sources": [
    {
      "id": "main-knowledge",
      "type": "json",
      "path": "/knowledge.json",
      "enabled": true
    }
  ],
  "update_records": [
    {
      "version": "1.2.0",
      "date": "2026-01-18",
      "changes": [
        "æ–°å¢çŠ¬éš»ç‡Ÿé¤ŠçŸ¥è­˜",
        "æ›´æ–°æ€¥æ•‘è™•ç†æµç¨‹"
      ]
    }
  ],
  "features": {
    "risk_assessment": true,
    "citation_tracking": true,
    "dynamic_update": true
  }
}
```

---

## å®‰å…¨æ€§è¨­è¨ˆ

### 1. å¯†ç¢¼ä¿è­·

```javascript
// å‰ç«¯ï¼šç’°å¢ƒè®Šæ•¸è¨­å®š
const correctPassword = import.meta.env.VITE_ADMIN_PASSWORD;

// é©—è­‰
if (passwordInput === correctPassword) {
  isAuthenticated.value = true;
}
```

### 2. CORS é…ç½®

```javascript
app.use(
  cors({
    origin: ["http://localhost:5173", "https://your-domain.com"],
    credentials: true,
  }),
);
```

### 3. æª”æ¡ˆä¸Šå‚³é™åˆ¶

```javascript
const upload = multer({
  storage: multer.memoryStorage(),
  limits: {
    fileSize: 10 * 1024 * 1024, // 10 MB
  },
});
```

### 4. è¼¸å…¥é©—è­‰

```javascript
// å„²å­˜å‰é©—è­‰
const hasInvalidEntry = entries.some(
  (entry) => !entry.topic || !entry.content || !entry.category,
);

if (hasInvalidEntry) {
  return res.status(400).json({ error: "ç¼ºå°‘å¿…å¡«æ¬„ä½" });
}
```

---

## æ•ˆèƒ½å„ªåŒ–

### 1. å‰ç«¯å¿«å–

```javascript
let knowledgeCache = null;

export function getKnowledgeBase() {
  return knowledgeCache; // é¿å…é‡è¤‡è¼‰å…¥
}
```

### 2. é˜²æ­¢å¿«å–çš„æ™‚é–“æˆ³

```javascript
const response = await fetch("/knowledge.json?t=" + Date.now());
```

### 3. æª”æ¡ˆå£“ç¸®

```javascript
import compression from "compression";
app.use(compression());
```

---

## éƒ¨ç½²å»ºè­°

### é–‹ç™¼ç’°å¢ƒ

```bash
# å‰ç«¯
npm run dev  # http://localhost:5173

# å¾Œç«¯
npm run api  # http://localhost:3001
```

### ç”Ÿç”¢ç’°å¢ƒ

#### Railway / Render (æ¨è–¦)

```json
{
  "build": "npm run build",
  "start": "npm run api"
}
```

#### VPS

```bash
# ä½¿ç”¨ PM2
pm2 start api-server.js --name pet-ai-api
pm2 save

# Nginx åå‘ä»£ç†
location /api/ {
  proxy_pass http://localhost:3001;
}
```

---

## ç›£æ§èˆ‡æ—¥èªŒ

### é—œéµæ—¥èªŒé»

```javascript
// çŸ¥è­˜åº«è¼‰å…¥
console.log("âœ… çŸ¥è­˜åº«è¼‰å…¥æˆåŠŸ:", entries.length);

// PDF è™•ç†
console.log("ğŸ“„ æ­£åœ¨è™•ç† PDF:", filename);

// å„²å­˜æ“ä½œ
console.log("âœ… çŸ¥è­˜åº«å·²æ›´æ–°:", version);
```

### éŒ¯èª¤è¿½è¹¤

```javascript
try {
  // æ“ä½œ
} catch (error) {
  console.error("âŒ æ“ä½œå¤±æ•—:", error);
  res.status(500).json({
    error: "æ“ä½œå¤±æ•—",
    message: error.message,
  });
}
```

---

## æ“´å±•æ–¹å‘

### 1. è³‡æ–™åº«æ•´åˆ

å°‡ JSON æª”æ¡ˆé·ç§»åˆ°è³‡æ–™åº«ï¼ˆMongoDBã€PostgreSQLï¼‰

### 2. ç”¨æˆ¶æ¬Šé™ç³»çµ±

å¤šå±¤ç´šç®¡ç†å“¡æ¬Šé™ã€æ“ä½œæ—¥èªŒå¯©è¨ˆ

### 3. æ‰¹æ¬¡æ“ä½œ

æ‰¹æ¬¡åˆªé™¤ã€æ‰¹æ¬¡ç·¨è¼¯ã€æ‰¹æ¬¡åŒ¯å…¥

### 4. AI è¼”åŠ©å¯©æ ¸

ä½¿ç”¨ AI æª¢æŸ¥çŸ¥è­˜å“è³ªã€æ ¼å¼ä¸€è‡´æ€§

### 5. å¤šèªè¨€æ”¯æ´

è‹±æ–‡ã€æ—¥æ–‡ç­‰å¤šèªè¨€çŸ¥è­˜åº«

---

## ç‰ˆæœ¬æ­·å²

- **v1.0.0** (2026-01-20) - åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºç¤ç®¡ç†åŠŸèƒ½
- è¦åŠƒä¸­ï¼šç”¨æˆ¶æ¬Šé™ã€è³‡æ–™åº«æ”¯æ´ã€æ‰¹æ¬¡æ“ä½œ

---

**æ–‡æª”ç‰ˆæœ¬**ï¼š1.0.0  
**æœ€å¾Œæ›´æ–°**ï¼š2026-01-20
